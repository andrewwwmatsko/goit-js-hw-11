{"version":3,"file":"commonHelpers.js","sources":["../src/img/error-icon.svg","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__09c89fb5__\"","const listOfImages = document.querySelector('#images');\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport default function createMarkup(fetchedData) {\n  listOfImages.innerHTML = '';\n  const markup = fetchedData.hits\n    .map(image => {\n      return `<li class=\"images-image\" >\n                        <div class=\"gallery\">\n         <a href=\"${image.largeImageURL}\"><img class=\"img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\"/></a>\n                            </div>\n                    <ul class=\"image-details-container\">\n                        <li>\n                            <h2 class=\"image-heading\">Likes</h2>\n                            <p class=\"image-description\">${image.likes}</p>\n                        </li>\n                        <li>\n                            <h2 class=\"image-heading\">Views</h2>\n                            <p class=\"image-description\">${image.views}</p>\n                        </li>\n                        <li>\n                            <h2 class=\"image-heading\">Comments</h2>\n                            <p class=\"image-description\">${image.comments}</p>\n                        </li>\n                        <li>\n                            <h2 class=\"image-heading\">Downloads</h2>\n                            <p class=\"image-description\">${image.downloads}</p>\n                        </li>\n                    </ul>\n            </li>`;\n    })\n    .join('');\n\n  listOfImages.insertAdjacentHTML('beforeend', markup);\n\n  var lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'title',\n    captionDelay: 350,\n  });\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport icon from '../img/error-icon.svg';\n\nimport createMarkup from './render-functions';\n\nexport default function fetchImages(searchValue) {\n  const authKey = '43558017-e13ccc47d2aef7f917b5afe22';\n  const searchParams = new URLSearchParams({\n    key: authKey,\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const URL = `https://pixabay.com/api?${searchParams}`;\n  const options = {\n    headers: {\n      Accept: 'text/html',\n    },\n  };\n\n  return fetch(URL, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.total === 0) {\n        const images = document.querySelector('#images');\n        images.innerHTML = '';\n\n        iziToast.show({\n          class: 'search-404',\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n          position: 'topRight',\n          iconUrl: icon,\n          backgroundColor: '#EF4040',\n          transitionIn: 'bounceInDown',\n          transitionOut: 'fadeOutUp',\n          theme: 'dark',\n          closeOnClick: true,\n        });\n        return;\n      }\n      // console.log(data);\n      createMarkup(data);\n    })\n    .catch(error => console.log(error));\n}\n","import fetchImages from './js/pixabay-api';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const input = e.currentTarget.elements.search;\n  if (!input.value) {\n    return;\n  }\n  fetchImages(input.value);\n  form.reset();\n});\n"],"names":["icon","listOfImages","createMarkup","fetchedData","markup","image","lightbox","SimpleLightbox","fetchImages","searchValue","authKey","URL","response","data","images","iziToast","error","form","e","input"],"mappings":"6vBAAA,MAAeA,EAAA,gDCATC,EAAe,SAAS,cAAc,SAAS,EAKtC,SAASC,EAAaC,EAAa,CAChDF,EAAa,UAAY,GACzB,MAAMG,EAASD,EAAY,KACxB,IAAIE,GACI;AAAA;AAAA,oBAEOA,EAAM,aAAa,2BAA2BA,EAAM,YAAY,UAAUA,EAAM,IAAI,YAAYA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2DAKnEA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,2DAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,2DAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,2DAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,kBAIrE,EACA,KAAK,EAAE,EAEVJ,EAAa,mBAAmB,YAAaG,CAAM,EAEnD,IAAIE,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,QACd,aAAc,GAClB,CAAG,EACDD,EAAS,QAAO,CAClB,CCnCe,SAASE,EAAYC,EAAa,CAC/C,MAAMC,EAAU,qCAQVC,EAAM,2BAPS,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CACkD,GAOnD,OAAO,MAAME,EANG,CACd,QAAS,CACP,OAAQ,WACT,CACL,CAE2B,EACtB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAY,GAEnBC,EAAS,KAAK,CACZ,MAAO,aACP,QACE,4EACF,SAAU,WACV,QAASf,EACT,gBAAiB,UACjB,aAAc,eACd,cAAe,YACf,MAAO,OACP,aAAc,EACxB,CAAS,EACD,MACD,CAEDE,EAAaW,CAAI,CACvB,CAAK,EACA,MAAMG,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCnDA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,cAAc,SAAS,OAClCC,EAAM,QAGXX,EAAYW,EAAM,KAAK,EACvBF,EAAK,MAAK,EACZ,CAAC"}