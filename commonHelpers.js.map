{"version":3,"file":"commonHelpers.js","sources":["../src/img/error-icon.svg","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__09c89fb5__\"","const listOfImages = document.querySelector('#images');\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport default function createMarkup(fetchedData) {\n  //clear collection\n  listOfImages.innerHTML = '';\n\n  //creating markup with fetched data\n  const markup = fetchedData.hits\n    .map(image => {\n      return `<li class=\"images-image\" >\n                        <div class=\"gallery\">\n         <a href=\"${image.largeImageURL}\">\n          <img class=\"img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\"/>\n         </a>\n                          </div>\n                    <ul class=\"image-details-container\">\n                        <li>\n                            <h2 class=\"image-heading\">Likes</h2>\n                            <p class=\"image-description\">${image.likes}</p>\n                        </li>\n                        <li>\n                            <h2 class=\"image-heading\">Views</h2>\n                            <p class=\"image-description\">${image.views}</p>\n                        </li>\n                        <li>\n                            <h2 class=\"image-heading\">Comments</h2>\n                            <p class=\"image-description\">${image.comments}</p>\n                        </li>\n                        <li>\n                            <h2 class=\"image-heading\">Downloads</h2>\n                            <p class=\"image-description\">${image.downloads}</p>\n                        </li>\n                    </ul>\n            </li>`;\n    })\n    .join('');\n  listOfImages.insertAdjacentHTML('beforeend', markup);\n\n  //lightbox lib\n  var lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'title',\n    captionDelay: 350,\n  });\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport icon from '../img/error-icon.svg';\n\nimport createMarkup from './render-functions';\n\nexport default function fetchImages(searchValue) {\n  const listOfImages = document.querySelector('#images');\n  listOfImages.innerHTML = '';\n  // loader on\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n\n  // fetch options\n  const authKey = '43558017-e13ccc47d2aef7f917b5afe22';\n  const searchParams = new URLSearchParams({\n    key: authKey,\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const URL = `https://pixabay.com/api/?${searchParams}`;\n  const options = {\n    headers: {\n      Accept: 'text/html',\n    },\n  };\n\n  //fetch\n  return fetch(URL, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.total === 0) {\n        const images = document.querySelector('#images');\n        images.innerHTML = '';\n\n        iziToast.show({\n          class: 'search-404',\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n          position: 'topRight',\n          iconUrl: icon,\n          backgroundColor: '#EF4040',\n          transitionIn: 'bounceInDown',\n          transitionOut: 'fadeOutUp',\n          theme: 'dark',\n          closeOnClick: true,\n        });\n\n        //fetch off\n        loader.style.display = 'none';\n        return;\n      }\n\n      //markup\n      createMarkup(data);\n      loader.style.display = 'none';\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      console.log(error.message);\n    });\n}\n","import fetchImages from './js/pixabay-api';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const input = e.currentTarget.elements.search;\n  if (!input.value) {\n    return;\n  }\n  fetchImages(input.value);\n  form.reset();\n});\n"],"names":["icon","listOfImages","createMarkup","fetchedData","markup","image","lightbox","SimpleLightbox","fetchImages","searchValue","loader","authKey","URL","response","data","images","iziToast","error","form","e","input"],"mappings":"6vBAAA,MAAeA,EAAA,gDCATC,EAAe,SAAS,cAAc,SAAS,EAKtC,SAASC,EAAaC,EAAa,CAEhDF,EAAa,UAAY,GAGzB,MAAMG,EAASD,EAAY,KACxB,IAAIE,GACI;AAAA;AAAA,oBAEOA,EAAM,aAAa;AAAA,kCACLA,EAAM,YAAY,UAAUA,EAAM,IAAI,YAAYA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2DAMnCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,2DAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,2DAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,2DAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,kBAIrE,EACA,KAAK,EAAE,EACVJ,EAAa,mBAAmB,YAAaG,CAAM,EAGnD,IAAIE,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,QACd,aAAc,GAClB,CAAG,EACDD,EAAS,QAAO,CAClB,CCxCe,SAASE,EAAYC,EAAa,CAC/C,MAAMR,EAAe,SAAS,cAAc,SAAS,EACrDA,EAAa,UAAY,GAEzB,MAAMS,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,QAGvB,MAAMC,EAAU,qCAQVC,EAAM,4BAPS,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CACmD,GAQpD,OAAO,MAAMG,EAPG,CACd,QAAS,CACP,OAAQ,WACT,CACL,CAG2B,EACtB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAY,GAEnBC,EAAS,KAAK,CACZ,MAAO,aACP,QACE,4EACF,SAAU,WACV,QAAShB,EACT,gBAAiB,UACjB,aAAc,eACd,cAAe,YACf,MAAO,OACP,aAAc,EACxB,CAAS,EAGDU,EAAO,MAAM,QAAU,OACvB,MACD,CAGDR,EAAaY,CAAI,EACjBJ,EAAO,MAAM,QAAU,MAC7B,CAAK,EACA,MAAMO,GAAS,CACdP,EAAO,MAAM,QAAU,OACvB,QAAQ,IAAIO,EAAM,OAAO,CAC/B,CAAK,CACL,CCnEA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,cAAc,SAAS,OAClCC,EAAM,QAGXZ,EAAYY,EAAM,KAAK,EACvBF,EAAK,MAAK,EACZ,CAAC"}